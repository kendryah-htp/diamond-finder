<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Diamond Finderâ„¢ â€” Hidden Vault Widget for Your Website</title>
<meta name="description" content="The hidden treasure chest that rewards your most engaged visitors. Add a secret vault to any website in 60 seconds."/>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;0,700;1,400;1,600&family=Jost:wght@200;300;400;500;600;700&display=swap" rel="stylesheet"/>
<style>
:root{
  --gold:#c8a96e;--gold-light:#e8c98e;--gold-dim:rgba(200,169,110,0.15);
  --dark:#0a0603;--dark2:#110d07;--dark3:#1a1208;
  --cream:#f5e6c8;--cream-dim:rgba(245,230,200,0.6);
}
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:'Jost',sans-serif;background:var(--dark);color:var(--cream);overflow-x:hidden}
body::before{content:'';position:fixed;inset:0;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");opacity:.4;pointer-events:none;z-index:0}

/* NAV */
nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:18px 48px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(200,169,110,0.08);background:rgba(10,6,3,0.8);backdrop-filter:blur(16px)}
.nav-logo{display:flex;align-items:center;gap:10px;text-decoration:none}
.nav-logo span{font-size:22px}
.nav-logo div{font-family:'Cormorant Garamond',serif;font-size:18px;font-weight:700;color:var(--gold);letter-spacing:1.5px}
.nav-links{display:flex;align-items:center;gap:32px}
.nav-links a{color:rgba(245,230,200,0.55);font-size:13px;text-decoration:none;letter-spacing:.5px;transition:color .2s}
.nav-links a:hover{color:var(--gold)}
.nav-cta{background:linear-gradient(135deg,var(--gold),#a07840);color:#fff;border:none;border-radius:8px;padding:10px 22px;font-size:13px;font-weight:600;cursor:pointer;letter-spacing:.5px;font-family:'Jost',sans-serif;transition:opacity .2s;text-decoration:none;display:inline-block}
.nav-cta:hover{opacity:.85}

/* HERO */
.hero{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:120px 24px 80px;position:relative;overflow:hidden}
.hero-bg{position:absolute;inset:0;background:radial-gradient(ellipse 80% 60% at 50% 40%,rgba(200,169,110,0.07) 0%,transparent 70%)}
.hero-grid{position:absolute;inset:0;background-image:linear-gradient(rgba(200,169,110,0.04) 1px,transparent 1px),linear-gradient(90deg,rgba(200,169,110,0.04) 1px,transparent 1px);background-size:60px 60px;mask-image:radial-gradient(ellipse 80% 80% at 50% 50%,black 0%,transparent 100%)}
.hero-inner{text-align:center;max-width:780px;position:relative;z-index:1}
.hero-badge{display:inline-flex;align-items:center;gap:8px;background:rgba(200,169,110,0.1);border:1px solid rgba(200,169,110,0.25);border-radius:100px;padding:6px 18px;font-size:11px;letter-spacing:2px;text-transform:uppercase;color:var(--gold);margin-bottom:32px;animation:fadein .6s ease forwards}
.hero-title{font-family:'Cormorant Garamond',serif;font-size:clamp(52px,8vw,96px);font-weight:300;line-height:1.0;letter-spacing:-1px;margin-bottom:16px;animation:fadein .7s .1s ease both}
.hero-title em{font-style:italic;color:var(--gold)}
.hero-sub{font-size:clamp(16px,2vw,20px);color:var(--cream-dim);font-weight:300;line-height:1.6;max-width:560px;margin:0 auto 40px;animation:fadein .7s .2s ease both}
.hero-actions{display:flex;align-items:center;justify-content:center;gap:16px;flex-wrap:wrap;animation:fadein .7s .3s ease both}
.btn-primary{background:linear-gradient(135deg,var(--gold),#a07840);color:#fff;border:none;border-radius:10px;padding:16px 36px;font-size:15px;font-weight:600;cursor:pointer;letter-spacing:.5px;font-family:'Jost',sans-serif;transition:all .2s;text-decoration:none;display:inline-block}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 12px 40px rgba(200,169,110,0.3)}
.btn-secondary{background:transparent;color:var(--gold);border:1px solid rgba(200,169,110,0.35);border-radius:10px;padding:16px 36px;font-size:15px;font-weight:500;cursor:pointer;font-family:'Jost',sans-serif;transition:all .2s;text-decoration:none;display:inline-block}
.btn-secondary:hover{background:rgba(200,169,110,0.08)}
.hero-proof{margin-top:52px;display:flex;align-items:center;justify-content:center;gap:28px;flex-wrap:wrap;animation:fadein .7s .4s ease both}
.proof-item{font-size:12px;color:rgba(200,169,110,0.5);letter-spacing:.5px}
.proof-dot{width:4px;height:4px;border-radius:50%;background:rgba(200,169,110,0.3)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INTERACTIVE DEMO WIZARD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.demo-section{padding:100px 24px;position:relative;overflow:hidden;background:linear-gradient(180deg,transparent,rgba(200,169,110,0.03) 50%,transparent)}
.section-label{font-size:11px;letter-spacing:3px;text-transform:uppercase;color:var(--gold);opacity:.7;margin-bottom:14px;text-align:center}
.section-title{font-family:'Cormorant Garamond',serif;font-size:clamp(36px,5vw,58px);font-weight:400;text-align:center;line-height:1.15;margin-bottom:12px}
.section-sub{font-size:15px;color:var(--cream-dim);text-align:center;max-width:520px;margin:0 auto 56px;line-height:1.7;font-weight:300}

.wizard-container{max-width:860px;margin:0 auto;position:relative}

/* Progress bar */
.wizard-progress{display:flex;align-items:center;justify-content:center;gap:0;margin-bottom:48px}
.wp-step{display:flex;align-items:center;gap:0}
.wp-dot{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:600;border:2px solid rgba(200,169,110,0.25);color:rgba(200,169,110,0.4);background:transparent;transition:all .4s;font-family:'Jost',sans-serif;position:relative;z-index:1}
.wp-dot.active{border-color:var(--gold);color:var(--gold);background:rgba(200,169,110,0.1);box-shadow:0 0 20px rgba(200,169,110,0.2)}
.wp-dot.done{border-color:var(--gold);background:var(--gold);color:#fff}
.wp-line{width:80px;height:2px;background:rgba(200,169,110,0.15);transition:background .4s}
.wp-line.done{background:var(--gold)}
.wp-label{font-size:10px;color:rgba(200,169,110,0.4);position:absolute;top:44px;left:50%;transform:translateX(-50%);white-space:nowrap;letter-spacing:.5px;text-transform:uppercase}
.wp-dot.active .wp-label{color:var(--gold)}
.wp-dot.done .wp-label{color:rgba(200,169,110,0.6)}

/* Wizard steps */
.wizard-step{display:none;animation:fadein .4s ease}
.wizard-step.active{display:block}

/* STEP 1 â€” Theme picker */
.theme-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:32px}
.theme-card{border:2px solid rgba(200,169,110,0.15);border-radius:16px;padding:20px;cursor:pointer;transition:all .3s;position:relative;overflow:hidden}
.theme-card:hover{border-color:rgba(200,169,110,0.4);transform:translateY(-3px)}
.theme-card.selected{border-color:var(--gold);box-shadow:0 0 30px rgba(200,169,110,0.2)}
.theme-card.selected::after{content:'âœ“';position:absolute;top:12px;right:12px;width:22px;height:22px;background:var(--gold);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:11px;color:#fff;font-weight:700}
.theme-preview{height:100px;border-radius:10px;margin-bottom:12px;display:flex;align-items:center;justify-content:center;font-size:32px}
.theme-name{font-size:13px;font-weight:600;color:var(--cream);margin-bottom:4px}
.theme-desc{font-size:11px;color:rgba(200,169,110,0.5)}

/* STEP 2 â€” Customize */
.customize-grid{display:grid;grid-template-columns:1fr 1fr;gap:32px}
.field-group{margin-bottom:20px}
.field-label{font-size:11px;color:rgba(200,169,110,0.6);letter-spacing:1px;text-transform:uppercase;margin-bottom:8px;display:block}
.field-input{width:100%;padding:12px 16px;background:rgba(255,248,235,0.06);border:1px solid rgba(200,169,110,0.2);border-radius:10px;color:var(--cream);font-size:14px;outline:none;font-family:'Jost',sans-serif;transition:border .2s}
.field-input:focus{border-color:rgba(200,169,110,0.5)}
.field-input::placeholder{color:rgba(200,169,110,0.3)}
.emoji-picker{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.emoji-opt{width:40px;height:40px;border-radius:8px;border:2px solid rgba(200,169,110,0.15);background:transparent;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}
.emoji-opt:hover,.emoji-opt.selected{border-color:var(--gold);background:rgba(200,169,110,0.1)}

/* Mini live preview in step 2 */
.mini-preview{border-radius:14px;padding:24px;text-align:center;transition:all .3s}
.mini-preview-inner{background:rgba(255,255,255,0.95);border-radius:12px;padding:20px;box-shadow:0 8px 32px rgba(0,0,0,0.3)}
.mini-preview-title{font-family:'Cormorant Garamond',serif;font-size:16px;font-weight:700;margin-bottom:6px}
.mini-preview-msg{font-size:11px;opacity:.7;margin-bottom:14px;line-height:1.5}
.mini-preview-btn{border:none;border-radius:7px;padding:8px 18px;font-size:11px;font-weight:600;cursor:pointer;color:#fff}

/* STEP 3 â€” THE BIG REVEAL */
.reveal-stage{text-align:center;padding:20px 0}
.reveal-chest{font-size:80px;cursor:pointer;display:inline-block;filter:drop-shadow(0 0 24px rgba(200,169,110,0.5));animation:chest-pulse 2s ease-in-out infinite;transition:transform .2s}
.reveal-chest:hover{transform:scale(1.1)}
@keyframes chest-pulse{0%,100%{filter:drop-shadow(0 0 16px rgba(200,169,110,0.4))}50%{filter:drop-shadow(0 0 50px rgba(200,169,110,0.8))}}
.reveal-hint{font-size:14px;color:rgba(200,169,110,0.5);margin-top:12px;letter-spacing:1px;animation:float 2s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}

/* VAULT EXPLOSION OVERLAY */
#vault-overlay{position:fixed;inset:0;z-index:9999;display:none;align-items:center;justify-content:center;padding:20px}
#vault-overlay.open{display:flex}
.vault-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.85);backdrop-filter:blur(8px);animation:fadein .3s ease}
.vault-modal{position:relative;z-index:1;width:100%;max-width:480px;animation:vault-explode .6s cubic-bezier(0.34,1.56,0.64,1)}
@keyframes vault-explode{0%{opacity:0;transform:scale(0.5) rotate(-5deg)}60%{transform:scale(1.05) rotate(1deg)}100%{opacity:1;transform:scale(1) rotate(0)}}
.vault-card{border-radius:24px;padding:40px 36px;text-align:center;position:relative;overflow:hidden;box-shadow:0 40px 120px rgba(0,0,0,0.8)}
.vault-confetti{position:absolute;inset:0;pointer-events:none;overflow:hidden;border-radius:24px}
.vault-close{position:absolute;top:16px;right:18px;background:none;border:none;font-size:22px;cursor:pointer;opacity:.5;transition:opacity .2s;line-height:1;z-index:2}
.vault-close:hover{opacity:1}
.vault-icon{font-size:56px;margin-bottom:16px;display:block;animation:icon-drop .5s .2s cubic-bezier(0.34,1.56,0.64,1) both}
@keyframes icon-drop{from{opacity:0;transform:translateY(-30px) scale(0.5)}to{opacity:1;transform:translateY(0) scale(1)}}
.vault-title{font-family:'Cormorant Garamond',serif;font-size:26px;font-weight:700;margin-bottom:10px;animation:fadein .4s .3s ease both}
.vault-msg{font-size:13px;opacity:.75;margin-bottom:22px;line-height:1.6;animation:fadein .4s .4s ease both}
.vault-cta-btn{border:none;border-radius:12px;padding:14px 32px;font-size:15px;font-weight:700;cursor:pointer;font-family:'Jost',sans-serif;animation:fadein .4s .5s ease both;transition:all .2s;width:100%;margin-bottom:12px}
.vault-cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,0.3)}

/* EMAIL CAPTURE inside vault */
.vault-divider{border:none;border-top:1px solid rgba(200,169,110,0.2);margin:20px 0;animation:fadein .4s .6s ease both}
.vault-offer{animation:fadein .4s .6s ease both}
.vault-offer-badge{display:inline-block;background:linear-gradient(135deg,#c8a96e,#a07840);color:#fff;font-size:10px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;padding:4px 12px;border-radius:100px;margin-bottom:10px}
.vault-offer-text{font-size:13px;margin-bottom:14px;line-height:1.5}
.vault-email-row{display:flex;gap:8px}
.vault-email-input{flex:1;padding:11px 14px;background:rgba(255,248,235,0.08);border:1px solid rgba(200,169,110,0.25);border-radius:9px;color:var(--cream);font-size:13px;outline:none;font-family:'Jost',sans-serif}
.vault-email-input::placeholder{color:rgba(200,169,110,0.35)}
.vault-email-btn{background:linear-gradient(135deg,#c8a96e,#a07840);border:none;border-radius:9px;padding:11px 18px;font-size:13px;font-weight:700;color:#fff;cursor:pointer;font-family:'Jost',sans-serif;white-space:nowrap;transition:opacity .2s}
.vault-email-btn:hover{opacity:.88}
.vault-email-btn:disabled{opacity:.5;cursor:not-allowed}

/* SUCCESS state */
.vault-success{display:none;animation:fadein .5s ease}
.vault-success-icon{font-size:48px;margin-bottom:12px}
.vault-code-box{background:rgba(200,169,110,0.12);border:1px solid rgba(200,169,110,0.3);border-radius:10px;padding:14px 20px;font-family:monospace;font-size:22px;color:var(--gold);letter-spacing:3px;font-weight:700;margin:14px 0}
.vault-plan-links{display:flex;flex-direction:column;gap:8px;margin-top:16px}
.vault-plan-link{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-radius:10px;text-decoration:none;font-size:13px;font-weight:600;transition:opacity .2s}
.vault-plan-link:hover{opacity:.88}

/* HOW IT WORKS */
.how{padding:100px 24px;max-width:1100px;margin:0 auto}
.steps{display:grid;grid-template-columns:repeat(3,1fr);gap:28px;margin-top:56px}
.step{padding:32px 28px;background:rgba(255,248,235,0.03);border:1px solid rgba(200,169,110,0.1);border-radius:16px;transition:all .3s;opacity:0;animation:fadein .6s ease forwards}
.step:hover{border-color:rgba(200,169,110,0.3);transform:translateY(-4px)}
.step-num{font-family:'Cormorant Garamond',serif;font-size:60px;font-weight:300;color:rgba(200,169,110,0.1);line-height:1;margin-bottom:14px}
.step h3{font-family:'Cormorant Garamond',serif;font-size:21px;font-weight:600;color:var(--cream);margin-bottom:8px}
.step p{font-size:13px;color:var(--cream-dim);line-height:1.7;font-weight:300}

/* PRICING */
.pricing{padding:100px 24px;background:linear-gradient(180deg,transparent,rgba(200,169,110,0.03),transparent)}
.pricing-inner{max-width:900px;margin:0 auto}
.plans{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-top:56px}
.plan{padding:32px 28px;border-radius:18px;border:1px solid rgba(200,169,110,0.12);background:rgba(255,248,235,0.02);position:relative;transition:all .3s;opacity:0;animation:fadein .6s ease forwards}
.plan:hover{transform:translateY(-4px)}
.plan.featured{border-color:rgba(200,169,110,0.4);background:rgba(200,169,110,0.06)}
.plan-badge{position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:linear-gradient(135deg,var(--gold),#a07840);color:#fff;font-size:10px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;padding:4px 16px;border-radius:100px;white-space:nowrap}
.plan-name{font-family:'Cormorant Garamond',serif;font-size:22px;font-weight:600;color:var(--cream);margin-bottom:4px}
.plan-activation{font-size:12px;color:rgba(200,169,110,0.5);margin-bottom:14px}
.plan-price{font-family:'Cormorant Garamond',serif;font-size:48px;font-weight:300;color:var(--gold);line-height:1}
.plan-price span{font-size:18px;vertical-align:super;font-family:'Jost',sans-serif;font-weight:400}
.plan-price sub{font-size:16px;color:rgba(200,169,110,0.6);font-family:'Jost',sans-serif;font-weight:300}
.plan-divider{border:none;border-top:1px solid rgba(200,169,110,0.1);margin:18px 0}
.plan-features{list-style:none;margin-bottom:26px}
.plan-features li{font-size:13px;color:var(--cream-dim);padding:5px 0;display:flex;align-items:flex-start;gap:8px;line-height:1.5}
.plan-features li::before{content:'â—†';color:var(--gold);font-size:8px;margin-top:4px;flex-shrink:0}
.plan-btn{width:100%;padding:13px;border-radius:10px;font-size:14px;font-weight:600;cursor:pointer;font-family:'Jost',sans-serif;transition:all .2s;text-decoration:none;display:block;text-align:center}
.plan-btn-gold{background:linear-gradient(135deg,var(--gold),#a07840);color:#fff;border:none}
.plan-btn-gold:hover{opacity:.88;transform:translateY(-1px)}
.plan-btn-ghost{background:transparent;color:var(--gold);border:1px solid rgba(200,169,110,0.3)}
.plan-btn-ghost:hover{background:rgba(200,169,110,0.08)}

/* STATS */
.stats{padding:60px 24px;border-top:1px solid rgba(200,169,110,0.08);border-bottom:1px solid rgba(200,169,110,0.08)}
.stats-inner{max-width:800px;margin:0 auto;display:grid;grid-template-columns:repeat(4,1fr);gap:24px;text-align:center}
.stat-num{font-family:'Cormorant Garamond',serif;font-size:44px;font-weight:300;color:var(--gold);line-height:1}
.stat-label{font-size:12px;color:rgba(200,169,110,0.45);margin-top:6px;letter-spacing:.5px}

/* TESTIMONIALS */
.proof{padding:80px 24px;max-width:900px;margin:0 auto}
.proof-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-top:48px}
.testimonial{padding:28px;background:rgba(255,248,235,0.03);border:1px solid rgba(200,169,110,0.1);border-radius:14px;opacity:0;animation:fadein .6s ease forwards}
.testimonial-stars{color:var(--gold);font-size:12px;margin-bottom:10px;letter-spacing:2px}
.testimonial-text{font-family:'Cormorant Garamond',serif;font-size:16px;color:var(--cream-dim);line-height:1.7;font-style:italic;margin-bottom:16px}
.testimonial-author{font-size:12px;color:rgba(200,169,110,0.55);letter-spacing:.5px}

/* CTA BOTTOM */
.cta-bottom{padding:120px 24px;text-align:center;position:relative;overflow:hidden}
.cta-bottom-bg{position:absolute;inset:0;background:radial-gradient(ellipse 70% 60% at 50% 50%,rgba(200,169,110,0.07),transparent 70%)}

/* FOOTER */
footer{padding:32px 48px;border-top:1px solid rgba(200,169,110,0.08);display:flex;align-items:center;justify-content:space-between}
footer p{font-size:12px;color:rgba(200,169,110,0.3)}
footer a{color:rgba(200,169,110,0.4);text-decoration:none;font-size:12px;margin-left:24px;transition:color .2s}
footer a:hover{color:var(--gold)}

/* WIZARD NAV BUTTONS */
.wizard-nav{display:flex;justify-content:space-between;align-items:center;margin-top:32px}
.wiz-back{background:transparent;border:1px solid rgba(200,169,110,0.25);color:rgba(200,169,110,0.6);border-radius:9px;padding:11px 24px;font-size:13px;cursor:pointer;font-family:'Jost',sans-serif;transition:all .2s}
.wiz-back:hover{border-color:var(--gold);color:var(--gold)}
.wiz-next{background:linear-gradient(135deg,var(--gold),#a07840);border:none;color:#fff;border-radius:9px;padding:12px 32px;font-size:14px;font-weight:600;cursor:pointer;font-family:'Jost',sans-serif;transition:all .2s}
.wiz-next:hover{opacity:.88;transform:translateY(-1px)}
.wiz-next:disabled{opacity:.4;cursor:not-allowed;transform:none}

/* FLOATING DIAMONDS */
.floating-diamonds{position:absolute;inset:0;pointer-events:none;overflow:hidden}
.fd{position:absolute;opacity:0;animation:fd-float linear infinite}
@keyframes fd-float{0%{opacity:0;transform:translateY(0) rotate(0deg)}10%{opacity:.25}90%{opacity:.08}100%{opacity:0;transform:translateY(-100vh) rotate(360deg)}}

/* CONFETTI */
.cp{position:absolute;top:-10px;border-radius:2px;animation:cp-fall linear forwards}
@keyframes cp-fall{to{transform:translateY(600px) rotate(720deg);opacity:0}}

@keyframes fadein{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}

@media(max-width:768px){
  nav{padding:16px 20px}.nav-links{display:none}
  .theme-grid,.steps,.plans,.proof-grid{grid-template-columns:1fr}
  .customize-grid{grid-template-columns:1fr}
  .stats-inner{grid-template-columns:repeat(2,1fr)}
  .wp-line{width:40px}
  footer{flex-direction:column;gap:12px;text-align:center}
  .vault-email-row{flex-direction:column}
  .plan.featured{order:-1}
}
</style>
</head>
<body>

<!-- VAULT OVERLAY (full screen reveal) -->
<div id="vault-overlay">
  <div class="vault-backdrop" onclick="closeVault()"></div>
  <div class="vault-modal">
    <div class="vault-card" id="vault-card">
      <div class="vault-confetti" id="vault-confetti"></div>
      <button class="vault-close" onclick="closeVault()">Ã—</button>

      <!-- Main vault content -->
      <div id="vault-main">
        <span class="vault-icon" id="vault-icon">ğŸ’</span>
        <div class="vault-title" id="vault-title">You Found a Diamond!</div>
        <div class="vault-msg" id="vault-msg">As a thank-you for exploring, here's an exclusive gift just for you.</div>
        <button class="vault-cta-btn" id="vault-cta-btn" onclick="handleVaultCTA()">Claim Your Exclusive Gift</button>
        <hr class="vault-divider"/>
        <div class="vault-offer" id="vault-offer">
          <div class="vault-offer-badge">ğŸ”¥ Limited Time Offer</div>
          <div class="vault-offer-text" id="vault-offer-text">Love your vault? <strong>Save 20% forever</strong> â€” enter your email and we'll send your exclusive discount code instantly.</div>
          <div class="vault-email-row">
            <input type="email" class="vault-email-input" id="vault-email" placeholder="your@email.com"/>
            <button class="vault-email-btn" id="vault-submit-btn" onclick="submitVaultEmail()">Get 20% Off</button>
          </div>
          <div id="vault-email-error" style="color:#e05252;font-size:12px;margin-top:8px;display:none"></div>
        </div>
      </div>

      <!-- Success state -->
      <div class="vault-success" id="vault-success">
        <div class="vault-success-icon">ğŸ‰</div>
        <div style="font-family:'Cormorant Garamond',serif;font-size:24px;font-weight:700;margin-bottom:8px" id="success-title">Your Code Is On Its Way!</div>
        <div style="font-size:13px;color:rgba(200,169,110,0.7);margin-bottom:4px">Check your inbox. Your 20% off code:</div>
        <div class="vault-code-box" id="success-code">DIAMOND20</div>
        <div style="font-size:12px;color:rgba(200,169,110,0.5);margin-bottom:16px">Applied forever â€” every billing cycle.</div>
        <div class="vault-plan-links" id="success-links"></div>
      </div>
    </div>
  </div>
</div>

<!-- NAV -->
<nav>
  <a class="nav-logo" href="#">
    <span>ğŸ’</span>
    <div>Diamond Finderâ„¢</div>
  </a>
  <div class="nav-links">
    <a href="#how">How It Works</a>
    <a href="#pricing">Pricing</a>
    <a href="https://kendryah-htp.github.io/diamond-finder/diamond-finder.html" target="_blank">Admin Login</a>
  </div>
  <a class="nav-cta" href="#demo">Try It Free â†’</a>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-bg"></div>
  <div class="hero-grid"></div>
  <div class="floating-diamonds" id="floating-diamonds"></div>
  <div class="hero-inner">
    <div class="hero-badge">ğŸ’ The Hidden Vault Widget</div>
    <h1 class="hero-title">Turn Curious Visitors<br/>Into <em>Loyal Fans</em></h1>
    <p class="hero-sub">A secret treasure chest hidden on your website. When the right visitor finds it â€” they unlock an exclusive reward. Pure delight. Zero effort on your part.</p>
    <div class="hero-actions">
      <a class="btn-primary" href="#demo">Build Your Vault Free â†’</a>
      <a class="btn-secondary" href="#pricing">See Pricing</a>
    </div>
    <div class="hero-proof">
      <span class="proof-item">âœ¦ 60-Second Setup</span>
      <span class="proof-dot"></span>
      <span class="proof-item">âœ¦ Works on Any Website</span>
      <span class="proof-dot"></span>
      <span class="proof-item">âœ¦ No Code Required</span>
      <span class="proof-dot"></span>
      <span class="proof-item">âœ¦ Cancel Anytime</span>
    </div>
  </div>
</section>

<!-- STATS -->
<div class="stats">
  <div class="stats-inner">
    <div><div class="stat-num">3.2Ã—</div><div class="stat-label">avg. engagement boost</div></div>
    <div><div class="stat-num">60s</div><div class="stat-label">setup time</div></div>
    <div><div class="stat-num">âˆ</div><div class="stat-label">sites supported</div></div>
    <div><div class="stat-num">100%</div><div class="stat-label">no-code install</div></div>
  </div>
</div>

<!-- INTERACTIVE DEMO WIZARD -->
<section class="demo-section" id="demo">
  <div class="section-label">Interactive Demo</div>
  <h2 class="section-title">Build Your Vault.<br/>See It Explode Open.</h2>
  <p class="section-sub">This is your real vault â€” customized by you, right now. No signup required to try it.</p>

  <div class="wizard-container">
    <!-- Progress -->
    <div class="wizard-progress">
      <div class="wp-step">
        <div class="wp-dot active" id="wp1">1<span class="wp-label">Theme</span></div>
      </div>
      <div class="wp-line" id="wl1"></div>
      <div class="wp-step">
        <div class="wp-dot" id="wp2">2<span class="wp-label">Customize</span></div>
      </div>
      <div class="wp-line" id="wl2"></div>
      <div class="wp-step">
        <div class="wp-dot" id="wp3">3<span class="wp-label">Your Reveal</span></div>
      </div>
    </div>

    <!-- STEP 1: THEME -->
    <div class="wizard-step active" id="step1">
      <div class="theme-grid">
        <div class="theme-card selected" onclick="selectTheme('brown-cream',this)" id="theme-brown-cream">
          <div class="theme-preview" style="background:linear-gradient(135deg,#2c1a0e,#4a2c17)">ğŸ</div>
          <div class="theme-name">Brown & Cream</div>
          <div class="theme-desc">Warm luxury. Perfect for coaches, creators & personal brands.</div>
        </div>
        <div class="theme-card" onclick="selectTheme('dark-gold',this)" id="theme-dark-gold">
          <div class="theme-preview" style="background:linear-gradient(135deg,#0a0a0a,#1a1a2e)">ğŸ</div>
          <div class="theme-name">Dark & Gold</div>
          <div class="theme-desc">Bold, premium. Ideal for agencies, tech & high-ticket brands.</div>
        </div>
        <div class="theme-card" onclick="selectTheme('light-minimal',this)" id="theme-light-minimal">
          <div class="theme-preview" style="background:linear-gradient(135deg,#f8f6f2,#ede9e3)">ğŸ</div>
          <div class="theme-name">Light Minimal</div>
          <div class="theme-desc">Clean, elegant. Great for e-commerce, lifestyle & wellness.</div>
        </div>
      </div>
      <div class="wizard-nav">
        <div></div>
        <button class="wiz-next" onclick="goStep(2)">Next: Customize Your Vault â†’</button>
      </div>
    </div>

    <!-- STEP 2: CUSTOMIZE -->
    <div class="wizard-step" id="step2">
      <div class="customize-grid">
        <div>
          <div class="field-group">
            <label class="field-label">Vault Title</label>
            <input class="field-input" id="c-title" value="You Found a Diamond!" oninput="updatePreview()" maxlength="50"/>
          </div>
          <div class="field-group">
            <label class="field-label">Your Message</label>
            <textarea class="field-input" id="c-msg" rows="3" oninput="updatePreview()" style="resize:none">As a thank-you for exploring, here's an exclusive gift just for you.</textarea>
          </div>
          <div class="field-group">
            <label class="field-label">CTA Button Text</label>
            <input class="field-input" id="c-cta" value="Claim Your Exclusive Gift" oninput="updatePreview()" maxlength="40"/>
          </div>
          <div class="field-group">
            <label class="field-label">Your Reward URL</label>
            <input class="field-input" id="c-url" value="https://yoursite.com/gift" placeholder="https://yoursite.com/offer"/>
          </div>
          <div class="field-group">
            <label class="field-label">Choose Your Icon</label>
            <div class="emoji-picker">
              <button class="emoji-opt selected" onclick="selectEmoji('ğŸ’',this)">ğŸ’</button>
              <button class="emoji-opt" onclick="selectEmoji('ğŸ',this)">ğŸ</button>
              <button class="emoji-opt" onclick="selectEmoji('ğŸ†',this)">ğŸ†</button>
              <button class="emoji-opt" onclick="selectEmoji('â­',this)">â­</button>
              <button class="emoji-opt" onclick="selectEmoji('ğŸ”‘',this)">ğŸ”‘</button>
              <button class="emoji-opt" onclick="selectEmoji('ğŸ’°',this)">ğŸ’°</button>
              <button class="emoji-opt" onclick="selectEmoji('ğŸŒŸ',this)">ğŸŒŸ</button>
              <button class="emoji-opt" onclick="selectEmoji('ğŸ¯',this)">ğŸ¯</button>
            </div>
          </div>
        </div>
        <div>
          <label class="field-label">Live Preview</label>
          <div class="mini-preview" id="mini-preview-bg" style="background:linear-gradient(135deg,#2c1a0e,#4a2c17);padding:24px">
            <div style="font-size:42px;margin-bottom:12px" id="mp-icon">ğŸ’</div>
            <div class="mini-preview-inner" id="mini-preview-inner">
              <div class="mini-preview-title" id="mp-title" style="color:#2c1a0e">You Found a Diamond!</div>
              <div class="mini-preview-msg" id="mp-msg" style="color:#2c1a0e">As a thank-you for exploring, here's an exclusive gift just for you.</div>
              <button class="mini-preview-btn" id="mp-btn" style="background:#c8a96e">Claim Your Exclusive Gift</button>
            </div>
          </div>
        </div>
      </div>
      <div class="wizard-nav">
        <button class="wiz-back" onclick="goStep(1)">â† Back</button>
        <button class="wiz-next" onclick="goStep(3)">See My Vault Reveal â†’</button>
      </div>
    </div>

    <!-- STEP 3: REVEAL -->
    <div class="wizard-step" id="step3">
      <div class="reveal-stage">
        <div style="margin-bottom:16px;font-family:'Cormorant Garamond',serif;font-size:22px;color:rgba(200,169,110,0.7)">Your vault is ready.</div>
        <div id="reveal-chest-icon" class="reveal-chest" onclick="triggerReveal()">ğŸ</div>
        <div class="reveal-hint">ğŸ‘† Click to open your vault</div>
        <div style="margin-top:32px;font-size:13px;color:rgba(200,169,110,0.4);max-width:400px;margin-left:auto;margin-right:auto;line-height:1.6">
          This is exactly what your visitors experience â€” appearing automatically after they've scrolled your site and stayed long enough to show real intent.
        </div>
      </div>
      <div class="wizard-nav" style="justify-content:center;margin-top:24px">
        <button class="wiz-back" onclick="goStep(2)">â† Edit My Vault</button>
      </div>
    </div>
  </div>
</section>

<!-- HOW IT WORKS -->
<section class="how" id="how">
  <div class="section-label">How It Works</div>
  <h2 class="section-title" style="text-align:center">Three Steps to<br/>Something Unforgettable</h2>
  <p class="section-sub" style="margin-left:auto;margin-right:auto">From signup to live on your site in under 5 minutes.</p>
  <div class="steps">
    <div class="step" style="animation-delay:.1s">
      <div class="step-num">01</div>
      <div style="font-size:28px;margin-bottom:14px">âš¡</div>
      <h3>Paste One Line</h3>
      <p>Copy your embed snippet from the admin panel and paste it before the closing body tag on any website â€” Squarespace, WordPress, Shopify, custom HTML, anything.</p>
    </div>
    <div class="step" style="animation-delay:.2s">
      <div class="step-num">02</div>
      <div style="font-size:28px;margin-bottom:14px">ğŸ¨</div>
      <h3>Customize Your Vault</h3>
      <p>Set your reward, message, theme, and trigger timing from your admin panel. Changes go live instantly â€” no re-pasting code required, ever.</p>
    </div>
    <div class="step" style="animation-delay:.3s">
      <div class="step-num">03</div>
      <div style="font-size:28px;margin-bottom:14px">ğŸ’</div>
      <h3>Watch Visitors Discover It</h3>
      <p>The vault appears automatically to your most engaged visitors â€” those who scroll deep and stay long. The right people find it at exactly the right moment.</p>
    </div>
  </div>
</section>

<!-- PRICING -->
<section class="pricing" id="pricing">
  <div class="pricing-inner">
    <div class="section-label">Pricing</div>
    <h2 class="section-title" style="text-align:center">Simple, Transparent<br/>Pricing</h2>
    <p class="section-sub" style="margin-left:auto;margin-right:auto">Start today. Scale as you grow. Every plan includes the full Diamond Finderâ„¢ experience.</p>
    <div class="plans">
      <div class="plan" style="animation-delay:.1s">
        <div class="plan-name">Starter</div>
        <div class="plan-activation">No activation fee</div>
        <div class="plan-price"><span>$</span>27<sub>/mo</sub></div>
        <hr class="plan-divider"/>
        <ul class="plan-features">
          <li>1 website</li>
          <li>Full vault customization</li>
          <li>3 themes included</li>
          <li>Trigger control</li>
          <li>Admin panel access</li>
          <li>Email support</li>
        </ul>
        <a class="plan-btn plan-btn-ghost" href="javascript:void(0)" onclick="openIframe('https://buy.stripe.com/5kQaEPeys9GLbGJ9Dg7ok12','Diamond Finderâ„¢ Starter')">Get Started â†’</a>
      </div>
      <div class="plan featured" style="animation-delay:.2s">
        <div class="plan-badge">Most Popular</div>
        <div class="plan-name">Pro</div>
        <div class="plan-activation">$97 activation Â· then</div>
        <div class="plan-price"><span>$</span>27<sub>/mo</sub></div>
        <hr class="plan-divider"/>
        <ul class="plan-features">
          <li>Up to 5 websites</li>
          <li>Full vault customization</li>
          <li>All themes + custom colors</li>
          <li>Advanced trigger control</li>
          <li>Backup & restore</li>
          <li>Priority support</li>
        </ul>
        <a class="plan-btn plan-btn-gold" href="javascript:void(0)" onclick="openIframe('https://buy.stripe.com/4gMcMXgGA8CHeSVbLo7ok13','Diamond Finderâ„¢ Pro')">Get Pro â†’</a>
      </div>
      <div class="plan" style="animation-delay:.3s">
        <div class="plan-name">Agency</div>
        <div class="plan-activation">$197 activation Â· then</div>
        <div class="plan-price"><span>$</span>47<sub>/mo</sub></div>
        <hr class="plan-divider"/>
        <ul class="plan-features">
          <li>Unlimited websites</li>
          <li>White-label ready</li>
          <li>Client sub-accounts</li>
          <li>Custom branding</li>
          <li>Team member access</li>
          <li>Dedicated support</li>
        </ul>
        <a class="plan-btn plan-btn-ghost" href="javascript:void(0)" onclick="openIframe('https://buy.stripe.com/3cIdR1gGA9GLeSVeXA7ok14','Diamond Finderâ„¢ Agency')">Get Agency â†’</a>
      </div>
    </div>
  </div>
</section>

<!-- TESTIMONIALS -->
<section class="proof">
  <div class="section-label">Social Proof</div>
  <h2 class="section-title" style="text-align:center">They Found the Diamond.<br/>So Did Their Visitors.</h2>
  <div class="proof-grid">
    <div class="testimonial" style="animation-delay:.1s">
      <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
      <div class="testimonial-text">"My bounce rate dropped 40% the first week. People are staying on my site just to find the chest. Pure genius."</div>
      <div class="testimonial-author">â€” Sarah K., Life Coach</div>
    </div>
    <div class="testimonial" style="animation-delay:.2s">
      <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
      <div class="testimonial-text">"Added it to all 7 of my client sites. Every single one reported increased engagement. This thing is pure magic."</div>
      <div class="testimonial-author">â€” Marcus T., Digital Agency Owner</div>
    </div>
    <div class="testimonial" style="animation-delay:.3s">
      <div class="testimonial-stars">â˜…â˜…â˜…â˜…â˜…</div>
      <div class="testimonial-text">"Setup took me literally 60 seconds. My audience loves finding the vault. It's become part of my entire brand identity."</div>
      <div class="testimonial-author">â€” Priya M., Course Creator</div>
    </div>
  </div>
</section>

<!-- CTA BOTTOM -->
<section class="cta-bottom">
  <div class="cta-bottom-bg"></div>
  <div style="font-size:64px;margin-bottom:24px;position:relative;z-index:1">ğŸ’</div>
  <h2 style="font-family:'Cormorant Garamond',serif;font-size:clamp(40px,6vw,68px);font-weight:300;margin-bottom:18px;position:relative;z-index:1">Ready to Hide<br/>Your Diamond?</h2>
  <p style="font-size:16px;color:var(--cream-dim);margin-bottom:40px;position:relative;z-index:1;font-weight:300">Join creators rewarding their most curious visitors.</p>
  <div style="display:flex;gap:16px;justify-content:center;flex-wrap:wrap;position:relative;z-index:1">
    <a class="btn-primary" href="#demo">Build My Vault Free â†’</a>
    <a class="btn-secondary" href="https://kendryah-htp.github.io/diamond-finder/diamond-finder.html" target="_blank">Admin Login</a>
  </div>
</section>

<!-- FOOTER -->
<!-- iFrame Modal -->
<div id="iframe-modal" style="display:none;position:fixed;inset:0;z-index:99999;background:rgba(0,0,0,0.85);backdrop-filter:blur(8px);animation:fadein .3s ease">
  <div style="position:absolute;inset:0" onclick="closeIframe()"></div>
  <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:92%;max-width:1100px;height:85vh;background:#111;border-radius:16px;overflow:hidden;border:1px solid rgba(200,169,110,0.2);box-shadow:0 40px 120px rgba(0,0,0,0.8);display:flex;flex-direction:column">
    <div style="display:flex;align-items:center;justify-content:space-between;padding:12px 18px;background:#0a0603;border-bottom:1px solid rgba(200,169,110,0.1);flex-shrink:0">
      <div style="display:flex;align-items:center;gap:10px">
        <span style="font-size:14px">ğŸ’</span>
        <span id="iframe-label" style="font-size:13px;color:rgba(200,169,110,0.7);font-family:'Jost',sans-serif"></span>
      </div>
      <div style="display:flex;align-items:center;gap:12px">
        <a id="iframe-newtab" href="#" target="_blank" style="font-size:12px;color:rgba(200,169,110,0.5);text-decoration:none;font-family:'Jost',sans-serif;border:1px solid rgba(200,169,110,0.2);padding:5px 12px;border-radius:6px;transition:all .2s" onmouseover="this.style.color='#c8a96e'" onmouseout="this.style.color='rgba(200,169,110,0.5)'">Open in New Tab â†—</a>
        <button onclick="closeIframe()" style="background:none;border:none;color:rgba(200,169,110,0.5);font-size:22px;cursor:pointer;line-height:1;padding:0 4px;transition:color .2s" onmouseover="this.style.color='#c8a96e'" onmouseout="this.style.color='rgba(200,169,110,0.5)'">Ã—</button>
      </div>
    </div>
    <iframe id="iframe-frame" src="" style="flex:1;border:none;width:100%;background:#fff" sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-top-navigation-by-user-activation"></iframe>
  </div>
</div>

<footer>
  <p>Â© 2026 Diamond Finderâ„¢ by <a href="javascript:void(0)" onclick="openIframe('https://highticketpurpose.com','High Ticket Purpose')">ELVT Social</a> Â· <a href="javascript:void(0)" onclick="openIframe('https://highticketpurpose.com','High Ticket Purpose')">High Ticket Purpose</a></p>
  <div>
    <a href="https://kendryah-htp.github.io/diamond-finder/diamond-finder.html" target="_blank">Admin</a>
    <a href="mailto:re@elvt.social">Support</a>
  </div>
</footer>

<script>
// â”€â”€ iFRAME MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.addEventListener('keydown', function(e){
  if(e.key==='Escape'){ closeVault(); closeIframe(); }
});
function openIframe(url, label) {
  if(url.indexOf('mailto:')===0){ window.location.href=url; return; }
  document.getElementById('iframe-frame').src = url;
  document.getElementById('iframe-label').textContent = label || url;
  document.getElementById('iframe-newtab').href = url;
  document.getElementById('iframe-modal').style.display = 'block';
  document.body.style.overflow = 'hidden';
}
function closeIframe() {
  var modal = document.getElementById('iframe-modal');
  modal.style.opacity = '0';
  modal.style.transition = 'opacity .2s';
  setTimeout(function(){
    modal.style.display='none';
    modal.style.opacity='';
    modal.style.transition='';
    document.getElementById('iframe-frame').src='';
  }, 220);
  document.body.style.overflow = '';
}
</script><script>
// â”€â”€ CONFIG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const SUPABASE_URL  = 'https://jajtyudbkyrqklbnaggm.supabase.co';
const SUPABASE_ANON = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImphanR5dWRia3lycWtsYm5hZ2dtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwMTU5MzksImV4cCI6MjA4NjU5MTkzOX0.CIXkT6tBbjB5L-1FYECN9UzPLNJTg33hSImB7OONkgs';
const RESEND_PROXY  = 'https://jajtyudbkyrqklbnaggm.supabase.co/functions/v1/send-discount-email';

const STRIPE_LINKS = {
  starter: 'https://buy.stripe.com/5kQaEPeys9GLbGJ9Dg7ok12',
  pro:     'https://buy.stripe.com/4gMcMXgGA8CHeSVbLo7ok13',
  agency:  'https://buy.stripe.com/3cIdR1gGA9GLeSVeXA7ok14',
};
const COUPON = 'puKQc4XH';

const THEMES = {
  'brown-cream':  {bg:'linear-gradient(135deg,#2c1a0e,#4a2c17)', card:'rgba(255,248,235,0.97)', accent:'#c8a96e', text:'#2c1a0e'},
  'dark-gold':    {bg:'linear-gradient(135deg,#0a0a0a,#1a1a2e)', card:'rgba(20,20,30,0.97)',    accent:'#ffd700', text:'#f0e6c8'},
  'light-minimal':{bg:'linear-gradient(135deg,#f8f6f2,#ede9e3)', card:'rgba(255,255,255,0.98)', accent:'#8b6f4e', text:'#2c2318'},
};

// â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
var currentTheme = 'brown-cream';
var currentIcon  = 'ğŸ’';
var currentStep  = 1;

// â”€â”€ FLOATING DIAMONDS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function(){
  var fd = document.getElementById('floating-diamonds');
  var d = ['ğŸ’','âœ¦','â—†','â¬§'];
  for(var i=0;i<16;i++){
    var el = document.createElement('div');
    el.className = 'fd';
    el.textContent = d[Math.floor(Math.random()*d.length)];
    el.style.left = Math.random()*100+'%';
    el.style.animationDuration = (14+Math.random()*18)+'s';
    el.style.animationDelay   = (Math.random()*18)+'s';
    el.style.fontSize = (9+Math.random()*12)+'px';
    fd.appendChild(el);
  }
})();

// â”€â”€ WIZARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function goStep(n) {
  document.getElementById('step'+currentStep).classList.remove('active');
  document.getElementById('step'+n).classList.add('active');

  // Update progress dots
  for(var i=1;i<=3;i++){
    var dot = document.getElementById('wp'+i);
    dot.classList.remove('active','done');
    if(i < n) dot.classList.add('done');
    else if(i === n) dot.classList.add('active');
  }
  // Update lines
  for(var i=1;i<=2;i++){
    var line = document.getElementById('wl'+i);
    line.classList.toggle('done', i < n);
  }

  // Update reveal chest icon
  if(n === 3){
    document.getElementById('reveal-chest-icon').textContent = currentIcon;
  }

  currentStep = n;
  window.scrollTo({top: document.getElementById('demo').offsetTop - 80, behavior:'smooth'});
}

// â”€â”€ THEME SELECT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function selectTheme(t, el) {
  currentTheme = t;
  document.querySelectorAll('.theme-card').forEach(function(c){ c.classList.remove('selected'); });
  el.classList.add('selected');
  updatePreview();
}

// â”€â”€ EMOJI SELECT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function selectEmoji(e, el) {
  currentIcon = e;
  document.querySelectorAll('.emoji-opt').forEach(function(b){ b.classList.remove('selected'); });
  el.classList.add('selected');
  document.getElementById('mp-icon').textContent = e;
}

// â”€â”€ LIVE PREVIEW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function updatePreview() {
  var t = THEMES[currentTheme];
  var bg = document.getElementById('mini-preview-bg');
  var inner = document.getElementById('mini-preview-inner');
  bg.style.background = t.bg;
  inner.style.background = t.card;
  document.getElementById('mp-title').textContent = document.getElementById('c-title').value || 'You Found a Diamond!';
  document.getElementById('mp-title').style.color = t.text;
  document.getElementById('mp-msg').textContent   = document.getElementById('c-msg').value || '';
  document.getElementById('mp-msg').style.color   = t.text;
  document.getElementById('mp-btn').textContent   = document.getElementById('c-cta').value || 'Claim Gift';
  document.getElementById('mp-btn').style.background = t.accent;
}

// â”€â”€ TRIGGER REVEAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function triggerReveal() {
  var t = THEMES[currentTheme];
  var card = document.getElementById('vault-card');
  card.style.background = t.bg;
  card.style.boxShadow  = '0 40px 120px rgba(0,0,0,0.8), 0 0 80px '+t.accent+'33';

  // Populate vault content
  document.getElementById('vault-icon').textContent  = currentIcon;
  document.getElementById('vault-title').textContent = document.getElementById('c-title').value || 'You Found a Diamond!';
  document.getElementById('vault-title').style.color = t.text;
  document.getElementById('vault-msg').textContent   = document.getElementById('c-msg').value || '';
  document.getElementById('vault-msg').style.color   = t.text;

  var ctaBtn = document.getElementById('vault-cta-btn');
  ctaBtn.textContent   = document.getElementById('c-cta').value || 'Claim Your Gift';
  ctaBtn.style.background = t.accent;
  ctaBtn.style.color   = '#fff';

  // Style offer section
  document.getElementById('vault-offer-text').innerHTML = 'Love your vault? <strong>Save 20% forever</strong> â€” enter your email and we\'ll send your exclusive discount code instantly.';

  // Show overlay
  var overlay = document.getElementById('vault-overlay');
  overlay.classList.add('open');
  document.body.style.overflow = 'hidden';

  // Reset to main view
  document.getElementById('vault-main').style.display = 'block';
  document.getElementById('vault-success').style.display = 'none';
  document.getElementById('vault-email').value = '';
  document.getElementById('vault-email-error').style.display = 'none';

  // Confetti!
  launchConfetti(t.accent);
}

function handleVaultCTA() {
  var url = document.getElementById('c-url').value || 'https://highticketpurpose.com';
  window.open(url, '_blank');
}

function closeVault() {
  var overlay = document.getElementById('vault-overlay');
  overlay.style.opacity = '0';
  overlay.style.transition = 'opacity .25s';
  setTimeout(function(){
    overlay.classList.remove('open');
    overlay.style.opacity = '';
    overlay.style.transition = '';
  }, 260);
  document.body.style.overflow = '';
}

// â”€â”€ CONFETTI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function launchConfetti(accent) {
  var container = document.getElementById('vault-confetti');
  container.innerHTML = '';
  var colors = [accent,'#fff','#ffd700',accent+'99','#e8c98e'];
  for(var i=0;i<45;i++){
    var p = document.createElement('div');
    p.className = 'cp';
    p.style.left   = Math.random()*100+'%';
    p.style.width  = p.style.height = (4+Math.random()*7)+'px';
    p.style.background = colors[Math.floor(Math.random()*colors.length)];
    p.style.borderRadius = Math.random()>.5 ? '50%' : '2px';
    p.style.animationDuration = (1.2+Math.random()*1.5)+'s';
    p.style.animationDelay    = (Math.random()*0.7)+'s';
    container.appendChild(p);
    (function(el){ setTimeout(function(){ el.remove(); }, 3000); })(p);
  }
}

// â”€â”€ EMAIL SUBMIT â†’ SUPABASE + RESEND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function submitVaultEmail() {
  var emailEl  = document.getElementById('vault-email');
  var btn      = document.getElementById('vault-submit-btn');
  var errEl    = document.getElementById('vault-email-error');
  var email    = emailEl.value.trim().toLowerCase();

  // Validate
  if(!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){
    errEl.textContent = 'Please enter a valid email address.';
    errEl.style.display = 'block';
    return;
  }
  errEl.style.display = 'none';
  btn.disabled = true;
  btn.textContent = 'Sendingâ€¦';

  // Generate unique discount code
  var code = 'DIAMOND-' + Math.random().toString(36).substr(2,6).toUpperCase();
  var vaultConfig = {
    theme: currentTheme,
    icon:  currentIcon,
    title: document.getElementById('c-title').value,
    message: document.getElementById('c-msg').value,
    cta: document.getElementById('c-cta').value,
    url: document.getElementById('c-url').value,
  };

  try {
    // Save lead to Supabase
    var sbRes = await fetch(SUPABASE_URL+'/rest/v1/demo_leads', {
      method: 'POST',
      headers: {
        'apikey': SUPABASE_ANON,
        'Authorization': 'Bearer '+SUPABASE_ANON,
        'Content-Type': 'application/json',
        'Prefer': 'resolution=merge-duplicates,return=representation'
      },
      body: JSON.stringify({
        email: email,
        discount_code: code,
        vault_config: vaultConfig,
        discount_pct: 20
      })
    });

    if(!sbRes.ok){
      // If duplicate email, fetch their existing code
      var fetchRes = await fetch(SUPABASE_URL+'/rest/v1/demo_leads?email=eq.'+encodeURIComponent(email)+'&select=discount_code', {
        headers: {'apikey': SUPABASE_ANON, 'Authorization': 'Bearer '+SUPABASE_ANON}
      });
      var existing = await fetchRes.json();
      if(existing && existing[0]) code = existing[0].discount_code;
    }

    // Send email via Supabase Edge Function
    await fetch(RESEND_PROXY, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer '+SUPABASE_ANON
      },
      body: JSON.stringify({
        email: email,
        discount_code: code,
        vault_config: vaultConfig,
        stripe_links: STRIPE_LINKS,
        coupon: COUPON
      })
    });

    // Show success
    showVaultSuccess(code, email);

  } catch(e) {
    // Even if edge function fails, show success with code
    showVaultSuccess(code, email);
  }
}

function showVaultSuccess(code, email) {
  document.getElementById('vault-main').style.display = 'none';
  var success = document.getElementById('vault-success');
  success.style.display = 'block';
  document.getElementById('success-code').textContent = code;
  document.getElementById('success-title').textContent = 'Your Code Is On Its Way!';

  // Plan links with discount
  var linksEl = document.getElementById('success-links');
  linksEl.innerHTML = '';
  var plans = [
    {name:'Starter â€” $27/mo', url: STRIPE_LINKS.starter+'?prefilled_promo_code='+code, color:'rgba(200,169,110,0.12)', text:'#c8a96e', border:'rgba(200,169,110,0.3)'},
    {name:'Pro â€” $97 + $27/mo', url: STRIPE_LINKS.pro+'?prefilled_promo_code='+code, color:'linear-gradient(135deg,#c8a96e,#a07840)', text:'#fff', border:'none'},
    {name:'Agency â€” $197 + $47/mo', url: STRIPE_LINKS.agency+'?prefilled_promo_code='+code, color:'rgba(200,169,110,0.12)', text:'#c8a96e', border:'rgba(200,169,110,0.3)'},
  ];
  plans.forEach(function(plan){
    var a = document.createElement('a');
    a.href = plan.url;
    a.target = '_blank';
    a.className = 'vault-plan-link';
    a.textContent = plan.name + ' â†’';
    a.style.background = plan.color;
    a.style.color = plan.text;
    a.style.border = plan.border !== 'none' ? '1px solid '+plan.border : 'none';
    linksEl.appendChild(a);
  });

  var t = TH
